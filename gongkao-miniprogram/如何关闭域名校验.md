# 如何关闭域名校验 - 图文教程

## 🎯 目标
关闭域名校验，让小程序可以访问 https://shxtj.chaim.top

---

## 📍 操作步骤（必须按顺序）

### 步骤1: 找到设置位置

在微信开发者工具**顶部右侧**找到并点击：

```
┌──────────────────────────────────────┐
│ 编译器  模拟器  调试器  【详情】      │ ← 点击这个
└──────────────────────────────────────┘
```

### 步骤2: 切换到本地设置

点击「详情」后，会出现以下标签页：

```
┌──────────────────────────────────────┐
│ 【本地设置】 项目配置  域名信息       │ ← 点击这个
└──────────────────────────────────────┘
```

### 步骤3: 找到并勾选配置

在「本地设置」区域，向下滚动找到：

```
□ 不校验合法域名、web-view（业务域名）、TLS 版本以及 HTTPS 证书
```

**点击勾选**，变成：

```
☑ 不校验合法域名、web-view（业务域名）、TLS 版本以及 HTTPS 证书
```

### 步骤4: 其他重要设置

同时确保勾选以下配置：

```
☑ 使用 npm 模块
☑ ES6 转 ES5  
☑ 增强编译
```

### 步骤5: 重新编译

```
1. 点击顶部工具栏的「编译」按钮（或按 Cmd+R）
2. 等待编译完成
```

---

## ✅ 验证是否成功

重新点击「微信一键登录」按钮，查看 Console：

### 成功标志
```
开始登录流程
获取code成功: xxx
登录API返回: {success: true, data: {needBind: true, sessionKey: "xxx", openid: "xxx"}}
```

**不再出现**：`url not in domain list` 错误

### 如果看到 needBind: true

说明登录成功！小程序会自动跳转到「绑定手机号」页面。

---

## 🆘 如果还是不行

### 方案A: 重启开发者工具
1. 完全退出微信开发者工具（Cmd+Q）
2. 重新打开
3. 重新勾选设置
4. 编译

### 方案B: 检查基础库版本
```
详情 → 本地设置 → 调试基础库
改为：2.30.0 或 2.33.0
（不要用 3.14.1）
```

---

## 📷 如果还有问题

请截图发送：
1. 「详情」→「本地设置」的整个页面
2. Console 的错误信息

我会根据截图帮您定位问题！
